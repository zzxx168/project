<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>小專</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/jquery.toast.css">
    <style>
        img {
            width: 300px;
            height: 200px;
            outline: 10px solid;
            outline-color: wheat
            /* border: 4px solid;
            border-color: wheat;
             */
        }
        .row div {
            margin: 0px;
            padding: 0px;
        } 
    </style>
</head>
<body>
    
    <div class="col-sm-offset-5">
        <h1 id ='animalTitle'>請選出所有貓</h1>

        <h1 id ='result'></h1>
    </div>

    <div class="container">
        <div class="row" id="divPets">
            <div class="col-sm-4">
                <img id="imgDog"
                     src="images/dog/dog_1.jpg"
                     class="pet "
                     data-species="狗"
                     data-click=false >
            </div>

            <div class="col-sm-4">
                <img id="imgCat"
                     src="images/dog/dog_2.jpg"
                     class="pet "
                     data-species="狗" 
                     data-click=false>
            </div>

            <div class="col-sm-4">
                <img id="imgRabbit"
                     src="images/bear/bear_1.jpg"
                     class="pet"
                     data-species="熊" 
                     data-click=false>
            </div>
        </div>    
        <div class="row" id="divPets">
            <div class="col-sm-4">
                <img id="imgDog"
                        src="images/cat/cat_1.jpg"
                        class="pet"
                        data-species="貓"
                        data-click=false >
            </div>

            <div class="col-sm-4">
                <img id="imgCat"
                        src="images/bear/bear_2.jpg"
                        class="pet "
                        data-species="熊"
                        data-click=false >
            </div>

            <div class="col-sm-4">
                <img id="imgRabbit"
                        src="images/dog/dog_3.jpg"
                        class="pet "
                        data-species="狗" 
                        data-click=false>
            </div>
        </div>
        <div class="row" id="divPets">
            <div class="col-sm-4">
                <img id="imgDog"
                        src="images/cat/cat_2.jpg"
                        class="pet"
                        data-species="貓"
                        data-click=false >
            </div>

            <div class="col-sm-4">
                <img id="imgCat"
                        src="images/cat/cat_3.jpg"
                        class="pet "
                        data-species="貓" 
                        data-click=false >
            </div>

            <div class="col-sm-4">
                <img id="imgRabbit"
                        src="images/bear/bear_3.jpg"
                        class="pet "
                        data-species="熊"
                        data-click=false >
            </div>
        </div>                 
        <br><br><br>
        <div class="form-group">
            <label for="animalSelect"
                   class="control-label col-sm-2">
                <span class=""></span>
                選擇動物
            </label>
            
            <div class="col-sm-2">
                <select class="form-control"
                        id="animalSelect"
                        name="">
                        <option>貓</option>
                        <option>狗</option>
                        <option>熊</option>
                </select>
                
            </div>
        <div class="col-sm-3">
            <button type="button" class="btn btn-primary" id='answer'>送出答案</button>
        </div>
        <div class="col-sm-2">
        <button type="button" class="btn btn-danger" id='back'>再玩一次</button>
        </div>
    </div>
    
    </div>

    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/jquery.toast.js"></script>

<script>
    var bool = false;
    var animalArray = [];
    var compareArray = [];
    var animal;
    function console(obj) {
            $("#animalTitle").html(obj);
    }
    function abc() {
         animal = $("#animalSelect").val();
         animalArray = [];
        $(".pet").each(function (key, obj) {
            if( $(obj).data("species") == animal) {
                animalArray[key] = 1;
            } else {
                animalArray[key] = 0;
            }
        })
    }
    function def() {
        animal = $("#animalSelect").val();
        $(".pet").each(function (key, obj) {
            if( $(obj).data("click") == animal) {
                compareArray[key] = 1;
            } else {
                compareArray[key] = 0;
            }
        })
        if(animalArray.toString() == compareArray.toString()) {
            $("#result").html("恭喜你答對了!");
        } else {
            $("#result").html("答錯了!");
        }
    }

    function ccc() {
        $(".pet").fadeTo("fast", 1);
        $(".pet").data("click",false);
        $("#result").html("");
    }

    $(document).ready(function () {

        abc();


        $("#animalSelect").change(function(){
            var a = '請選出所有'+$(this).val();
            console(a);
            $(".pet").fadeTo("fast", 1);
            $(".pet").data("click",false);
            abc();
            // console(animalArray.toString());
        });

        $(".pet").click(function () {
            var s = $(this).data("click");
            animal = $("#animalSelect").val();
           if(!s){
            $(this).data("click",animal);
            $(this).fadeTo("fast", 0.50);
           }else {
            $(this).data("click",false);
            $(this).fadeTo("fast", 1);
           }
        });
        // console(animalArray.toString());
        $("#answer").click(def);
        $("#back").click(ccc);
 
    }); 

        




</script>

</body>
</html>